!function(a,b,c){var d=function(){var a,b,c,d=arguments[0],e=arguments[1],i=arguments[arguments.length-1];return"string"==typeof d&&(a=d),"object"==typeof e&&e.prototype instanceof f&&(b=e),(i.constructor==={}.constructor||"function"==typeof i)&&(c=i),c?a?(h.setMeta(a,b,c),void 0):g.create(a,b,c,Array.prototype.slice.apply(arguments,arguments.length-1)):h.get(a,Array.prototype.slice.apply(arguments,1))},e=function(a){e.current()!==a&&e._stack.push(a)};e.GLOBAL="GLOBAL",e.DELIMITERS=/(\\|\/|\||\.|_|\-)/,e._stack=[],e.end=function(){e._stack.pop()},e.current=function(){return e._stack[e._stack.length-1]||e.GLOBAL},e.whereLookFor=function(){var a=e.current(),b=[a];return a!==e.GLOBAL&&b.push(e.GLOBAL),b};var f=function(){if("function"==typeof this.init){var a=this.init.apply(this,Array.prototype.slice.call(arguments));if("undefined"!=typeof a)return a}};f.NAME="__BASE_CLAZZ__",f.DEPENDENCIES=[],f.parent=null,f.create=function(){var a=arguments;return new this(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},f.prototype={parent:null,clazz:f};var g={CLASS_NAME:"Clazz{uid}",_clazzUID:0,create:function(a,b,c,d){"string"==typeof b&&(b=h.get(b)),"undefined"==typeof d&&(d=[]);var e=this.createClazz(a,b);return e.DEPENDENCIES=d,"function"==typeof c&&(c=c.apply(e,d)),c&&this.processMeta(e,c),e},createClazz:function(a,b){b||(b=f);var d=function(){var a=b.apply(this,Array.prototype.slice.call(arguments));return"undefined"!=typeof a?a:void 0};for(var e in b)"function"==typeof b[e]?d[e]=b[e]:"_"===e[0]&&(d[e]=c);return d.NAME=a||this.generateName(),d.parent=b,d.prototype=Object.create(b.prototype),d.prototype.clazz=d,d.prototype.parent=b.prototype,d},generateName:function(){return this.CLASS_NAME.replace("{uid}",++this._clazzUID)},processMeta:function(a,b){return"function"==typeof b&&(b=b.apply(a)),b&&(d.Meta.Clazz.process(a,b),d.Meta.Object.process(a.prototype,b)),a}},h={_clazz:{},_meta:{},setMeta:function(a,b,d){return"undefined"==typeof d&&(d=b,b=c),this._meta[a]=[b,d],this},hasMeta:function(a){return a in this._meta},getMeta:function(a){if(!this.hasMeta(a))throw new Error('Meta does not exists for "'+a+'"!');return this._meta[a]},getClazz:function(a,b){for(var c,d,f,g,h,i,j,k,l=e.whereLookFor(),c=0,d=l.length;d>c;++c){i=this._clazz,k=(l[c]+"."+a).split(e.DELIMITERS);for(j in k){if(!(j in i))break;i=i[j]}}if("[object Array]"===Object.prototype.toString.apply(i))for(b||(b=[]),c=0,d=i.length;d>c;++c){for(h=!0,f=0,g=i.DEPENDENCIES.length;g>f;++f)if(i.DEPENDENCIES[f]!==b[f]){h=!1;break}if(h)return i[c]}throw new Error('Clazz "'+a+'" does not exists!')},hasClazz:function(a,b){var c,d,f,g,h,i,j,k,l=e.whereLookFor();for(c=0,d=l.length;d>c;++c){i=this._clazz,k=(l[c]+"."+a).split(e.DELIMITERS);for(j in k){if(!(j in i))break;i=i[j]}}if("[object Array]"===Object.prototype.toString.apply(i)){if(!b)return!0;for(c=0,d=i.length;d>c;++c){for(h=!0,f=0,g=i.DEPENDENCIES.length;g>f;++f)if(i.DEPENDENCIES[f]!==b[f]){h=!1;break}if(h)return!0}}return!1},setClazz:function(a,b){if("function"==typeof a&&(b=a,a=b.NAME),"function"!=typeof b)throw new Error("Clazz must be a function!");var c,d=(e.current()+"."+a).split(e.DELIMITERS),a=d.pop(),f=this._clazz;for(c in d)"undefined"==typeof f[c]&&(f[c]={}),f=f[c];return a in f||(f[a]=[]),f[a].push(b),this},get:function(a,b){if(!this.hasClazz(a,b)){var c=this.getMeta(a);this.setClazz(a,g.create(a,c[0],c[1],b))}return this.getClazz(a,b)},has:function(a){return this.hasClazz(a)||this.hasMeta(a)}},i=function(a,b){a.__constants={};for(var c in b)a.__constants[c]=b[c]},j=new b.Processor.Interface({"const":function(a){return this.__getConstant(a)},__getConstant:function(a,b){var c=this;if("undefined"==typeof b&&(b=c.__getConstants()),"undefined"!=typeof a){if(!(a in b))throw new Error('Constant "'+a+'" does not defined!');if(b=b[a],"[object Object]"===Object.prototype.toString.apply(b))return function(a){return c.__getConstant(a,b)}}return b},__getConstants:function(){for(var a={},b=this;b;){if(b.hasOwnProperty("__constants"))for(var c in b.__constants)c in a||(a[c]=b.__constants[c]);b=b.parent}return a}}),k=new b.Processor.Chain({init:i,"interface":j}),l=function(a,b){if("function"==typeof a&&a.parent)for(var c in a.parent)"function"==typeof a.parent[c]&&(a[c]=a.parent[c]);for(var c in b){if("function"!=typeof b[c])throw new Error('Method "'+c+'" must be a function!');a[c]=b[c]}},m=function(a){var b,c=a.getDefaults();for(b in c)a["_"+b]=c[b]},n=function(a,b){for(var d in b)a["_"+d]=c},o=new b.Processor.Interface({__setters:{},__getters:{},__defaults:{},init:function(a){this.__setData(a)},__adjustPropertyName:function(a){return a.replace(/(?:_)\w/,function(a){return a[1].toUpperCase()})},__getDefaults:function(){for(var a={},b=this;b;){if(b.hasOwnProperty("__defaults"))for(var c in b.__defaults)c in a||(a[c]=b.__defaults[c]);b=b.parent}return a},__getDefault:function(a){var b=this.__getDefaults();return a in b?b[a]:c},__setDefault:function(a,b){this.__defaults[a]=b},__hasDefault:function(a){return a in this.__getDefaults()},__setData:function(a){for(var b in a)this.__hasProperty(b)&&this.__setProperty(b,a[b]);return this},__getProperty:function(a){if(a=this.__adjustPropertyName(a),!this.__hasProperty(a))throw new Error("Can't get! Property \""+a+'" does not exists!');var b=this["_"+a],c=this.__getGetters(a);for(var d in c)b=c[d].call(this,b);return b},__setProperty:function(a,b){if(a=this.__adjustPropertyName(a),!this.__hasProperty(a))throw new Error("Can't set! Property \""+a+'" does not exists!');var c=this.__getSetters(a);for(var d in c)b=c[d].call(this,b);return this["_"+a]=b,this},__hasProperty:function(a){return a=this.__adjustPropertyName(a),"_"+a in this&&"function"!=typeof this["_"+a]},__isProperty:function(a,b){return"undefined"!=typeof b?b==this.__getProperty(a):Boolean(this.__getProperty(a))},__isEmptyProperty:function(a){var b=this.__getProperty(a);if("[object Object]"===Object.prototype.toString.apply(b)){for(var c in b)return!0;return!1}return"undefined"==typeof this[b]||null===b||"string"==typeof b&&""===b||"[object Array]"===Object.prototype.toString.apply(b)&&0===b.length},__addSetter:function(a,b,c){if("undefined"==typeof c&&(c=b,b=0),"function"!=typeof c)throw new Error("Set callback must be a function!");return a in this.__setters||(this.__setters[a]=[]),this.__setters[a].push([b,c]),this},__getSetters:function(a){for(var b,c,d={},e=this.clazz.prototype;e;){if(e.hasOwnProperty("__setters"))for(var c in e.__setters)c in d||(d[c]=e.__setters[c]);e=e.parent}if("undefined"!=typeof a){if(b=[],a in d&&d[a].length){d[a].sort(function(a,b){return b[0]-a[0]});for(var f=0,g=d[a].length;g>f;++f)b.push(d[a][f][1])}}else b=d;return b},__addGetter:function(a,b,c){if("undefined"==typeof c&&(c=b,b=0),"function"!=typeof c)throw new Error("Get callback must be a function!");return a in this.__getters||(this.__getters[a]=[]),this.__getters[a].push([b,c]),this},__getGetters:function(a){for(var b,c={},d=this.clazz.prototype;d;){if(d.hasOwnProperty("__getters"))for(var e in d.__getters)e in c||(c[e]=d.__getters[e]);d=d.parent}if("undefined"!=typeof a){if(b=[],a in c&&c[a].length){c[a].sort(function(a,b){return b[0]-a[0]});for(var f=0,g=c[a].length;g>f;++f)b.push(c[a][f][1])}}else b=c;return b}}),p={process:function(a,b){for(var c in b)this.Meta.process(a,b[c],c)},Meta:new b({type:{process:function(a,b,c,d){if("[object Array]"!==Object.prototype.toString.apply(b)&&(b=[b,{}]),!(b[0]in this.TYPES))throw new Error('Unsupported property type "'+b[0]+'"!');var e=this.TYPES[b[0]];a.__addSetter(d,function(c){return e.call(a,c,b[1])})},TYPES:{"boolean":function(a){return Boolean(a)},number:function(a,b){if(a=Number(a),"min"in b&&a<b.min)throw new Error('Value "'+a+'" must not be less then "'+b.min+'"!');if("max"in b&&a>b.max)throw new Error('Value "'+a+'" must not be greater then "'+b.max+'"!');return a},string:function(a,b){if(a=String(a),"pattern"in b&&!b.pattern.test(a))throw new Error('Value "'+a+'" does not match pattern "'+b.pattern+'"!');return a},datetime:function(a){return a instanceof Date||(a=new Date(Date.parse(a))),a},array:function(a,b){return"string"==typeof a?a.split(b.delimiter||","):[].concat(a)}}},"default":function(a,b,c,d){"function"==typeof b&&(b=b()),this.__setDefault(d,b)},methods:{process:function(a,b,c,d){"[object Array]"!==Object.prototype.toString.apply(b)&&(b=[b]);for(var e=0,f=b.length;f>e;++e)this.addMethod(b[e],a,d)},addMethod:function(a,b,c){var d=this.createMethod(a,c);b[d.name]=d.body},createMethod:function(a,b){if(!(a in this.METHODS))throw new Error('Unsupported method "'+a+'"!');return this.METHODS[a](b)},METHODS:{get:function(a){return{name:"get"+a[0].toUpperCase()+a.slice(1),body:function(){return this.__getProperty(a)}}},set:function(a){return{name:"set"+a[0].toUpperCase()+a.slice(1),body:function(b){return this.__setProperty(a,b)}}},is:function(a){return{name:(0!==a.indexOf("is")?"is":"")+a[0].toUpperCase()+a.slice(1),body:function(b){return this.__isProperty(a,b)}}},isEmpty:function(a){return{name:(0!==a.indexOf("isEmpty")?"isEmpty":"")+a[0].toUpperCase()+a.slice(1),body:function(){return this.__isEmptyProperty(a)}}}}},converters:function(a,b,c,d){a.__addSetter(d,1e3,function(a){for(var c in b)a=b[c].call(this,a);return a})},constraints:function(a,b,c,d){a.__addSetter(d,function(a){for(var c in b)if(!b[c].call(this,a))throw new Error('Constraint "'+c+'" was failed!');return a})}})},q=new b.Processor.Chain({init:n,"interface":o,meta:p});d.Base=f,d.Factory=g,d.Manager=h,d.Meta={Clazz:new b({constants:k,clazz_properties:q,clazz_methods:l}),Object:new b({properties:q,methods:l})},a.NameSpace=e,a.Clazz=d}(this,Meta);
//# sourceMappingURL=dist/ClazzJS.min.map