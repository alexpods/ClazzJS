!function(a,b,c){var d=function(a,b,c){if(this instanceof d){var e=g.get(a);return e.create.apply(e,Array.prototype.slice.call(arguments))}return 1==arguments.length?("object"==typeof a&&(c=a,a=null),a?g.get(a):f.create(c)):(g.setMeta(a,b,c),void 0)},e=function(){"function"==typeof this.init&&this.init.apply(this,Array.prototype.toString.apply(arguments))};e.NAME="__BASE_CLAZZ__",e.parent=null,e.prototype={parent:null,clazz:e};var f={CLASS_NAME:"Clazz{uid}",_clazzUID:0,create:function(a,b,c){return"undefined"==typeof c&&(c=b,b=null),"undefined"==typeof c&&(c=a,a=null),"string"==typeof b&&(b=g.get(b)),this.processMeta(this.createClazz(a,b),c)},createClazz:function(a,b){b||(b=e);var c=function(){b.apply(this,Array.prototype.slice.call(arguments))};return c.NAME=a||this.generateName(),c.parent=b,c.prototype.clazz=c,c.prototype.parent=b.prototype,c},generateName:function(){return this.CLASS_NAME.replace("{uid}",++this._clazzUID)},processMeta:function(a,b){return"function"==typeof b&&(b=b.apply(a)),b&&(d.Meta.Clazz.process(a,b),d.Meta.Object.process(a.prototype,b)),a}},g={_clazz:{},_meta:{},setMeta:function(a,b,d){return"undefined"==typeof d&&(d=b,b=c),this._meta[a]=[b,d],this},hasMeta:function(a){return a in this._meta},getMeta:function(a){if(!(a in this._meta))throw new Error('Meta does not exists for "'+a+'"!');return this._meta[a]},getClazz:function(a){if(!(a in this._clazz))throw new Error('Clazz does not exists for "'+a+'"!');return this._apis[a]},hasClazz:function(a){return a in this._clazz},setClazz:function(a,b){if("function"!=typeof b)throw new Error("Clazz must be a function!");return this._clazz[a]=b,this},get:function(a){if(!this.hasClazz(a)){var b=this.getMeta(a);this.setClazz(a,f.create(a,b[0],b[1]))}return this.getClazz(a)},has:function(a){return this.hasClazz(a)||this.hasMeta(a)}},h=function(a,b){a.__constants={};for(var c in b)a.__constants[c]=b[c]},i=new b.Processor.Interface({"const":function(a){return this.__getConstant(a)},__getConstant:function(a,b){var c=this;if("undefined"==typeof b&&(b=c.__getConstants()),"undefined"!=typeof a){if(!(a in b))throw new Error('Constant "'+a+'" does not defined!');if(b=b[a],"[object Object]"===Object.prototype.toString.apply(b))return function(a){return c.__getConstant(a,b)}}return b},__getConstants:function(){for(var a={},b=this;b;){if(b.hasOwnProperty("__constants"))for(var c in b.__constants)c in a||(a[c]=b.__constants[c]);b=b.parent}return a}}),j=new b.Processor.Chain({init:h,"interface":i}),k=function(a,b){if("function"==typeof a&&a.parent)for(var c in a.parent)"function"==typeof a.parent[c]&&(a[c]=a.parent[c]);for(var c in b){if("function"!=typeof b[c])throw new Error('Method "'+c+'" must be a function!');a[c]=b[c]}},l=function(a){var b,c=a.getDefaults();for(b in c)a["_"+b]=c[b]},m=function(a,b){if("function"==typeof a&&a.parent)for(var d in a.parent)("_"!==d[0]||"function"==typeof a.parent[d])&&(a[d]=c);for(var d in b)a["_"+d]=c},n=new b.Processor.Interface({__setters:{},__getters:{},__defaults:{},init:function(a){this.__setData(a)},__adjustPropertyName:function(a){return a.replace(/(?:_)\w/,function(a){return a[1].toUpperCase()})},__getDefaults:function(){for(var a={},b=this;b;){if(b.hasOwnProperty("__defaults"))for(var c in b.__defaults)c in a||(a[c]=b.__defaults[c]);b=b.parent}return a},__getDefault:function(a){var b=this.__getDefaults();return a in b?b[a]:c},__setDefault:function(a,b){this.__defaults[a]=b},__hasDefault:function(a){return a in this.__getDefaults()},__setData:function(a){for(var b in a)this.__hasProperty(b)&&this.__setProperty(b,a[b]);return this},__getProperty:function(a){if(a=this.__adjustPropertyName(a),!this.__hasProperty(a))throw new Error("Can't get! Property \""+a+'" does not exists!');var b=this["_"+a],c=this.__getGetters(a);for(var d in c)b=c[d].call(this,b);return b},__setProperty:function(a,b){if(a=this.__adjustPropertyName(a),!this.__hasProperty(a))throw new Error("Can't set! Property \""+a+'" does not exists!');var c=this.__getSetters(a);for(var d in c)b=c[d].call(this,b);return this["_"+a]=b,this},__hasProperty:function(a){return a=this.__adjustPropertyName(a),"_"+a in this&&"function"!=typeof this["_"+a]},__isProperty:function(a,b){return"undefined"!=typeof b?b==this.__getProperty(a):Boolean(this.__getProperty(a))},__isEmptyProperty:function(a){var b=this.__getProperty(a);if("[object Object]"===Object.prototype.toString.apply(b)){for(var c in b)return!0;return!1}return"undefined"==typeof this[b]||null===b||"string"==typeof b&&""===b||"[object Array]"===Object.prototype.toString.apply(b)&&0===b.length},__addSetter:function(a,b,c){if("undefined"==typeof c&&(c=b,b=0),"function"!=typeof c)throw new Error("Set callback must be a function!");return a in this.__setters||(this.__setters[a]=[]),this.__setters[a].push([b,c]),this},__getSetters:function(a){for(var b,c,d={},e=this;e;){if(e.hasOwnProperty("__setters"))for(var c in e.__setters)c in d||(d[c]=e.__setters[c]);e=e.parent}if("undefined"!=typeof a){if(b=[],d[a].length){d[a].sort(function(a,b){return b[0]-a[0]});for(var f=0,g=d[a].length;g>f;++f)b.push(d[a][f][1])}}else b=d;return b},__addGetter:function(a,b,c){if("undefined"==typeof c&&(c=b,b=0),"function"!=typeof c)throw new Error("Get callback must be a function!");return a in this.__getters||(this.__getters[a]=[]),this.__getters[a].push([b,c]),this},__getGetters:function(a){for(var b,c={},d=this;d;){if(d.hasOwnProperty("__getters"))for(var e in d.__getters)e in c||(c[e]=d.__getters[e]);d=d.parent}if("undefined"!=typeof a){if(b=[],c[a].length){c[a].sort(function(a,b){return b[0]-a[0]});for(var f=0,g=c[a].length;g>f;++f)b.push(c[a][f][1])}}else b=c;return b}}),o={process:function(a,b){for(var c in b)this.Meta.process(a,b[c],c)},Meta:new b({type:{process:function(a,b,c,d){if("[object Array]"!==Object.prototype.toString.apply(b)&&(b=[b,{}]),!(b[0]in this.TYPES))throw new Error('Unsupported property type "'+b[0]+'"!');var e=this.TYPES[b[0]];a.__addSetter(d,function(c){return e.call(a,c,b[1])})},TYPES:{"boolean":function(a){return Boolean(a)},number:function(a,b){if(a=Number(a),"min"in b&&a<b.min)throw new Error('Value "'+a+'" must not be less then "'+b.min+'"!');if("max"in b&&a>b.max)throw new Error('Value "'+a+'" must not be greater then "'+b.max+'"!');return a},string:function(a,b){if(a=String(a),"pattern"in b&&!b.pattern.test(a))throw new Error('Value "'+a+'" does not match pattern "'+b.pattern+'"!');return a},datetime:function(a){return a instanceof Date||(a=new Date(Date.parse(a))),a},array:function(a,b){return"string"==typeof a?a.split(b.delimiter||","):[].concat(a)}}},"default":function(a,b,c,d){"function"==typeof b&&(b=b()),this.__setDefault(d,b)},methods:{process:function(a,b,c,d){"[object Array]"!==Object.prototype.toString.apply(b)&&(b=[b]);for(var e=0,f=b.length;f>e;++e)this.addMethod(b[e],a,d)},addMethod:function(a,b,c){var d=this.createMethod(a,c);b[d.name]=d.body},createMethod:function(a,b){if(!(a in this.METHODS))throw new Error('Unsupported method "'+a+'"!');return this.METHODS[a](b)},METHODS:{get:function(a){return{name:"get"+a[0].toUpperCase()+a.slice(1),body:function(){return this.__getProperty(a)}}},set:function(a){return{name:"set"+a[0].toUpperCase()+a.slice(1),body:function(b){return this.__setProperty(a,b)}}},is:function(a){return{name:(0!==a.indexOf("is")?"is":"")+a[0].toUpperCase()+a.slice(1),body:function(b){return this.__isProperty(a,b)}}},isEmpty:function(a){return{name:(0!==a.indexOf("isEmpty")?"isEmpty":"")+a[0].toUpperCase()+a.slice(1),body:function(){return this.__isEmptyProperty(a)}}}}},converters:function(a,b,c,d){a.__addSetter(d,1e3,function(a){for(var c in b)a=b[c].call(this,a);return a})},constraints:function(a,b,c,d){a.__addSetter(d,function(a){for(var c in b)if(!b[c].call(this,a))throw new Error('Constraint "'+c+'" was failed!');return a})}})},p=new b.Processor.Chain({init:m,"interface":n,meta:o});d.Base=e,d.Factory=f,d.Manager=g,d.Meta={Clazz:new b({constants:j,clazz_properties:p,clazz_methods:k}),Object:new b({properties:p,methods:k})},a.Clazz=d}(this,Meta);
//# sourceMappingURL=dist/ClazzJS.min.map