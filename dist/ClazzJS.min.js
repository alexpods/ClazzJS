!function(a,b,c,d){if("function"==typeof define&&define.amd)define(b,c,d);else if("object"==typeof exports&&exports){for(var e=0,f=c.length;f>e;++e){var g=c[e];"string"==typeof g&&(g=g.replace(/([A-Z]+)/g,function(a){return"-"+a.toLowerCase()}).replace(/^-/,""),c[e]=require(g))}var h=d.apply(a,c);for(var i in h)exports[i]=h[i]}else{for(var e=0,f=c.length;f>e;++e){var g=c[e];if("string"==typeof g){if(!(g in a))throw new Error('"'+b+'" dependent on non exited module "'+g+'"!');c[e]=a[g]}}a[b]=d.apply(a,c)}}(new Function("return this")(),"ClazzJS",[],function(a){var b=function(){var a={},b=Object.prototype.toString,c=Array.prototype.slice;a.isUndefined=function(a){return void 0===a},a.isObject=function(a){return a===Object(a)},a.isNull=function(a){return null===a};for(var d=["Function","String","Number","Date","RegExp"],e=0,f=d.length;f>e;++e)!function(c){a["is"+c]=function(a){return b.call(a)==="[object "+c+"]"}}(d[e]);return a.toArray=function(a){return c.call(a)},a.extend=function(a){for(var b=c.call(arguments,1),d=1,e=b.length;e>d;++d){var f=b[d];if(f)for(var g in f)a[g]=f[g]}return a},a.last=function(a){return a[a.length-1]},a}(),c=function(){var a=function(c,d){var e=function(a){var c=e.getScope().getNamespace(e.adjustPath(a));return arguments.length>1&&c.space.apply(c,b.toArray(arguments).slice(1)),c};return b.extend(e,a.prototype),e._scope=c,e._path=d,e._spaces=[],e._objects={},e};b.extend(a.prototype,{getPath:function(){return this._path},getScope:function(){return this._scope},adjustPath:function(a){return this._scope.isAbsolutePath(a)?this._scope.adjustPath(a):this._scope.concatPaths(this.getPath(),a)},get:function(a){return a in this._objects||(this._objects[a]=this._scope.get(a).call(this)),this._objects[a]},has:function(a){return this._scope.has(a)},space:function(){var a=this,c=b.toArray(arguments).slice(0,-1),d=b.last(arguments),e=[];c.length||(c=this._scope.getDefaultInjects());for(var f=0,g=c.length;g>f;++f)e[f]=this.get(c[f]);return this._spaces.push(function(){d.apply(a,e)}),this},executeSpace:function(){return this._spaces.length?(this._spaces.pop()(),!0):!1}});var c=function(a){a=a||{},this._innerDelimiter=a.innerDelimiter||"/",this._delimiters=a.delimiters||["\\","/","."],this._defaultInjects=a.defaultInjects||[],this._namespaces={},this._factories={},this._search=[]};return b.extend(c.prototype,{getInnerDelimiter:function(){return this._innerDelimiter},setInnerDelimiter:function(a){if(!this.hasDelimiter(a))throw new Error('Delimiter "'+a+'" does not supported!');return this._innerDelimiter=a,this},getDelimiters:function(){return this._delimiters},addDelimiter:function(a){if(this.hasDelimiter(a))throw new Error('Delimiter "'+a+'" is already exists!');return this},removeDelimiter:function(a){if(!this.hasDelimiter(a))throw new Error('Delimiter "'+a+'" does not exists!')},hasDelimiter:function(a){return-1!==this._delimiters.indexOf(a)},getNamespace:function(b){return b=this.adjustPath(b),b in this._namespaces||(this._namespaces[b]=a(this,b)),this._namespaces[b]},getRootNamespace:function(){return this.getNamespace(this.getRootPath())},getRootPath:function(){return this._innerDelimiter},adjustPath:function(a){var b=this.getInnerDelimiter(),c=this.getDelimiters();return a.replace(new RegExp("[\\"+c.join("\\")+"]","g"),b).replace(new RegExp(b+"+","g"),b).replace(new RegExp("(.+)"+b+"$"),function(a){return a})},isAbsolutePath:function(a){return 0===a.indexOf(this.getRootNamespace().getPath())},concatPaths:function(){return this.adjustPath(b.toArray(arguments).join(this.getInnerDelimiter()))},set:function(a,b){if(a in this._factories)throw new Error('Factory for object "'+a+'" is already exists!');return this._factories[a]=b,this},get:function(a){if(!(a in this._factories))throw new Error('Factory for object "'+a+'" does not exists!');return this._factories[a]},has:function(a){return a in this._factories},remove:function(a){return delete this._factories[a],this},getInSearchError:function(a){var b=new Error('Path "'+a+'" is in search state!');return b.inSearch=!0,b.path=a,b},isInSearchError:function(a){return a.inSearch},search:function(a,c){a=this.adjustPath(a);var d=c(a);if(!b.isUndefined(d))return d;for(var e=this.getInnerDelimiter(),f=a.split(e),g=f.pop();f.length;){var h=f.join(e);if(h in this._namespaces)for(var i=this._namespaces[h];i.executeSpace();)if(d=c(h+e+g),!b.isUndefined(d))return d;g=f.pop()}},getDefaultInjects:function(){return this._defaultInjects},addDefaultInject:function(a){if(-1!==this._defaultInjects.indexOf(a))throw new Error('Default inject "'+a+'" is already exists!');return this._defaultInjects.push(a),this},removeDefaultInject:function(a){var b=this._defaultInjects.indexOf(a);if(-1===b)throw new Error('Default inject "'+a+'" does not exists!');return this._defaultInjects.splice(b,1),this}}),{Namespace:a,Scope:c}}(),d=function(){var a=function(){this._processors={}};b.extend(a.prototype,{getProcessor:function(a){return this.checkProcessor(a),this._processors[a]},hasProcessor:function(a){return a in this._processors},setProcessor:function(a,c){return b.isFunction(c)&&(c={process:c}),"__name"in c||(c.__name=a),this._processors[a]=c,this},removeProcessor:function(a){this.checkProcessor(a);var b=this._processors[a];return delete this._processors[a],b},getProcessors:function(){return this._processors},setProcessors:function(a){for(var b in a)this.setProcessor(b,a[b]);return this},checkProcessor:function(a){if(!this.hasProcessor(a))throw new Error('Meta processor "'+a+'" does not exists!')}});var c=function(a,d){var e=function(a,c){return b.isUndefined(c)?e.get(a):e.set(a,c)};return b.extend(e,c.prototype),e._manager=a,e._namespace=d,e};return b.extend(c.prototype,{getManager:function(){return this._manager},getNamespace:function(){return this._namespace},get:function(a){var b=this.getManager(),c=this.resolveProcessorName(a);if(!c)throw new Error('Meta processor "'+a+'" does not exist!');return b.getProcessor(c)},set:function(a,b){var c=this.getNamespace(),d=this.getManager();return d.setProcessor(c.adjustPath(a),b),this},resolveProcessorName:function(a){var b=this.getManager(),c=this.getNamespace();return c.getScope().search(c.adjustPath(a),function(a){return b.hasProcessor(a)?a:void 0})}}),{Meta:c,Manager:a}}(),e=function(){var c=function(a,d,e){var f=function(a,c,d){var e=b.last(arguments);return b.isFunction(e)&&!e.prototype.__clazz||"[object Object]"===Object.prototype.toString.call(e)?(f.set(a,c,d),void 0):f.get(a,c,d)};return b.extend(f,c.prototype),f._manager=a,f._factory=d,f._namespace=e,f};b.extend(c.prototype,{getManager:function(){return this._manager},getFactory:function(){return this._factory},getNamespace:function(){return this._namespace},has:function(a){return!!this.resolveName(a)},get:function(c,d,e){b.isUndefined(e)&&b.isArray(d)&&(e=d,d=a);var f=this.resolvePath(c);if(!f)throw new Error('Clazz "'+c+'" does not exists!');e=e||[];var g=this.getManager();if(!g.hasClazz(f,d,e)){var h=this.getFactory(),i=g.getClazzData(f);g.setClazz(f,h.create({name:i.name,parent:d,metaParent:i.parent,meta:i.meta,dependencies:e,clazz:i.clazz}),d,e)}return g.getClazz(f,d,e)},set:function(c,d,e){b.isUndefined(e)&&(e=d,d=a);var f=this.getNamespace(),g=this.getManager();return b.isUndefined(e)&&(e=d,d=null),c=f.adjustPath(c),b.isString(d)&&(d=f.adjustPath(d)),g.setClazzData(c,{name:c,parent:d,meta:e,clazz:this}),this},resolvePath:function(a){var b=this.getNamespace(),c=this.getManager();return b.getScope().search(b.adjustPath(a),function(a){return c.hasClazzData(a)?a:void 0})}});var d=function(a){a=a||{},this._clazzUID=0,this._metaProcessor=a.metaProcessor||null,this._baseClazz=a.baseClazz||null};b.extend(d.prototype,{CLAZZ_NAME:"Clazz{uid}",getBaseClazz:function(){return this._baseClazz},setBaseClazz:function(a){if(!b.isFunction(a))throw new Error("Base clazz must be a function!");return this._baseClazz=a,this},getMetaProcessor:function(){return this._metaProcessor},setMetaProcessor:function(a){if(!b.isFunction(a.process))throw new Error('Meta processor must have "process" method!');return this._metaProcessor=a,this},create:function(a){var c=a.name||this.generateName(),d=a.parent,e=a.metaParent,f=a.meta||{},g=a.dependencies||[],h=a.clazz,i=this.createClazz();return i.__name=c,i.__clazz=h,b.isFunction(f)&&(f=f.apply(i,[i].concat(g))||{}),!f.parent&&e&&(f.parent=e),d=d||f.parent,b.isString(d)&&(d=[d]),b.isArray(d)&&(d=h.get.apply(h,d)),this.applyParent(i,d),i.prototype.__clazz=i,i.prototype.__proto=i.prototype,this.applyMeta(i,f),i},createClazz:function(){return function a(){var c;if(!(this instanceof a))throw new Error('Use "new" to create new "'+a.__name+'" instance!');return b.isFunction(this.__construct)?c=this.__construct.apply(this,b.toArray(arguments)):a.__parent&&(c=a.__parent.apply(this,b.toArray(arguments))),b.isUndefined(c)?void 0:c}},applyParent:function(c,d){if(d=d||this.getBaseClazz())for(var e in d)-1===["__name","__clazz"].indexOf(e)&&(b.isFunction(d[e])?c[e]=d[e]:"_"===e[0]&&(c[e]=a));return c.prototype=Object.create(d?d.prototype:{}),c.__parent=d||null,c.prototype.constructor=c,c.prototype.__parent=d?d.prototype:null,c},applyMeta:function(a,b){return this.getMetaProcessor().process(a,b),a},generateName:function(){return this.CLAZZ_NAME.replace("{uid}",++this._clazzUID)}});var e=function(){this._clazz={},this._clazzData={}};return b.extend(e.prototype,{setClazzData:function(a,b){return this._clazzData[a]=b,this},hasClazzData:function(a){return a in this._clazzData},getClazzData:function(a){if(!this.hasClazzData(a))throw new Error('Data does not exists for clazz "'+a+'"!');return this._clazzData[a]},getClazz:function(a,b,c){if(a in this._clazz)for(var d=this._clazz[a],e=0,f=d.length;f>e;++e)if(!b||d[e][1]===b){var g=!0;if(c)for(var h=0,i=d[e][2].length;i>h;++h)if(d[e][2][h]!==c[h]){g=!1;break}if(g)return d[e][0]}throw new Error('Clazz "'+a+'" does not exists!')},hasClazz:function(a,b,c){if(a in this._clazz)for(var d=this._clazz[a],e=0,f=d.length;f>e;++e)if(!b||d[e][1]===b){var g=!0;if(c)for(var h=0,i=d[e][2].length;i>h;++h)if(d[e][2][h]!==c[h]){g=!1;break}if(g)return!0}return!1},setClazz:function(a,c,d,e){if(!b.isFunction(c))throw new Error("Clazz must be a function!");return a in this._clazz||(this._clazz[a]=[]),this._clazz[a].push([c,d,e||[]]),this}}),{Clazz:c,Factory:d,Manager:e}}(),f=new c.Scope({defaultInjects:["clazz","namespace"]}),g=f.getRootNamespace(),h=new d.Manager,i=new d.Meta(h,g),j=new e.Manager,k=new e.Factory,l=new e.Clazz(j,k,g);return f.set("namespace",function(){return this}),f.set("meta",function(){return new d.Meta(h,this)}),f.set("clazz",function(){return new e.Clazz(j,k,this)}),g("ClazzJS","clazz","meta","namespace",function(c,d,e){d("Base",{_objectTypes:{clazz:function(a){return a},proto:function(a){return a.prototype}},_processors:{clazz:{},proto:{}},_optionProcessors:{clazz:{constants:"Constants",clazz_properties:"Properties",clazz_methods:"Methods",clazz_events:"Events"},proto:{properties:"Properties",methods:"Methods",events:"Events"}},process:function(a,c){a.__isClazz||b.extend(a,this.clazz_interface);var e=c.parent;if(e&&!a.__isSubclazzOf(e))throw new Error('Clazz "'+a.__name+'" must be subclazz of "'+e.__isClazz?e.__name:e+'"!');for(var f in this._objectTypes){var g=this._objectTypes[f](a);g.__interfaces||(g.__interfaces=["common"],b.extend(g,this.common_interface))}for(var f in this._processors){var g=this._objectTypes[f](a),h=this._processors[f];for(var i in h){var j=h[i];b.isString(j)&&(j=d(j)),j.interface&&!g.__isInterfaceImplemented(j.__name)&&g.__implementInterface(j.__name,j.interface),j.process(g,c)}}for(var f in this._optionProcessors){var g=this._objectTypes[f](a),h=this._optionProcessors[f];for(var k in h){var j=h[k];b.isString(j)&&(j=d(j)),j.interface&&!g.__isInterfaceImplemented(j.__name)&&g.__implementInterface(j.__name,j.interface),j.process(g,c[k]||{},k)}}},addObjectType:function(a,b){return a in this._processors||(this._processors[a]=[]),a in this._optionProcessors||(this._optionProcessors[a]={}),this._objectTypes[a]=b,this},removeObjectType:function(a){return a in this._processors&&delete this._processors,a in this._optionProcessors&&delete this._optionProcessors[a],delete this._objectTypes[a],this},hasProcessor:function(a,b){return b in this._processors[a]},addProcessor:function(a,b){if(b.__name in this._processors[a])throw new Error('Processor "'+b.__name+'" is already exists for object type "'+a+'"!');return this._processors[a][b.__name]=b,this},removeProcessor:function(a,b){if(!(b in this._processors[a]))throw new Error('Processor "'+b+'" does not exists for object type "'+a+'"!');return delete this._processors[a][b],this},hasOptionProcessor:function(a,b){return b in this._optionProcessors[a][b]},addOptionProcessor:function(a,b,c){return this._optionProcessors[a][b]=c,this},removeOptionProcessor:function(a,b){return delete this._optionProcessors[a][b],this},clazz_interface:{__isClazz:!0,__isSubclazzOf:function(a){for(var b=this;b;){if(b===a||b.__name===a)return!0;b=b.__parent}return!1}},common_interface:{__isInterfaceImplemented:function(a){return-1!==this.__interfaces.indexOf(a)},__implementInterface:function(a,c){if(-1!==this.__interfaces.indexOf(a))throw new Error('Interface "'+a+'" is already implemented!');return this.__interfaces.push(a),b.extend(this,c),this},__collectAllPropertyValues:function(a,c){function d(a,b,c,e){e=[].concat(e);for(var f in b)e[0]&&f!==e[0]||(c>1&&"[object Object]"===Object.prototype.toString.call(b[f])?(f in a||(a[f]={}),d(a[f],b[f],c-1,e.slice(1))):f in a||(a[f]=b[f]))}var e=[];this.hasOwnProperty(a)&&e.push(this[a]),this.__proto&&this.__proto.hasOwnProperty(a)&&e.push(this.__proto[a]);for(var f=this.__parent;f;)f.hasOwnProperty(a)&&e.push(f[a]),f=f.__parent;for(var g=b.toArray(arguments).slice(2),h={},i=0,j=e.length;j>i;++i)d(h,e[i],c||1,g);return h}}}),d("Constants",{process:function(a,b){a.__constants={};for(var c in b)a.__constants[c]=b[c]},"interface":{__initConstants:function(){this.__constants={}},__getConstants:function(){return this.__collectAllPropertyValues("__constants",99)},__getConstant:function(){for(var a=b.toArray(arguments),c=this.__collectAllPropertyValues.apply(this,["__constants",99].concat(a)),d=0,e=a.length;e>d;++d){if(!(a[d]in c))throw new Error('Constant "'+a.splice(0,d).join(".")+'" does not exists!');c=a[d]}return c},__executeConstant:function(a,c){var d=this;if(b.isUndefined(c)&&(c=d.__getConstants()),!b.isUndefined(a)){if(!(a in c))throw new Error('Constant "'+a+'" does not defined!');if(c=c[a],"[object Object]"===Object.prototype.toString.call(c))return function(a){return d.__executeConstant(a,c)}}return c}}}),d("Events",{process:function(a,b){a.__events={};for(var c in b)for(var d in b[c])a.__addEventListener(c,d,b[c][d])},"interface":{__initEventsCallbacks:function(){this.__events={}},__emitEvent:function(a){var c=this.__getEventListeners(a);for(var d in c)c[d].apply(this,b.toArray(arguments).slice(1));return this},__addEventListener:function(a,b,c){if(this.__hasEventListener(a,b))throw new Error('Event listener for event "'+a+'" with name "'+b+'" is already exists!');return a in this.__events||(this.__events[a]={}),this.__events[a][b]=c,this},__removeEventListener:function(b,c){if(!this.hasEventCallback(b,c))throw new Error('There is no "'+b+(c?'"::"'+c:"")+'" event callback!');return this.__events[b][c]=a,this},__hasEventListener:function(a,b){return b in this.__getEventListeners(a)},__getEventListener:function(a,b){var c=this.__getEventListeners(a);if(!(b in c))throw new Error('Event listener for event "'+a+'" with name "'+b+'" does not exists!');return c[a][b]},__getEventListeners:function(a){return this.__collectAllPropertyValues.apply(this,["__events",2].concat(a||[]))}}}),d("Methods",{process:function(a,c){for(var d in c){if(!b.isFunction(c[d]))throw new Error('Method "'+d+'" must be a function!');a[d]=c[d]}}}),d("Properties",{_propertyMetaProcessor:"Property",process:function(a,b){a.__properties={},a.__setters={},a.__getters={};var c=this.getPropertyMetaProcessor();for(var d in b)c.process(a,b[d],d)},getPropertyMetaProcessor:function(){return b.isString(this._propertyMetaProcessor)&&(this._propertyMetaProcessor=d(this._propertyMetaProcessor)),this._propertyMetaProcessor},setPropertyMetaProcessor:function(a){return this._propertyMetaProcessor=a,this},"interface":{__initProperties:function(){this.__properties={},this.__setters={},this.__getters={};var a=this.__getPropertiesParam();for(var c in a)if("default"in a[c]){var d=a[c].default;b.isFunction(d)&&(d=d.ca),this["_"+c]=a[c]["default"]}},__setPropertiesParam:function(a){for(var b in a)this.__setPropertyParam(b,a[b]);return this},__getPropertiesParam:function(){return this.__collectAllPropertyValues("__properties",2)},__setPropertyParam:function(a,c,d){var e={};return b.isUndefined(d)?b.isObject(c)&&b.extend(e,c):e[c]=d,a=this.__adjustPropertyName(a),a in this.__properties||(this.__properties[a]={}),b.extend(this.__properties[a],e),this},__getPropertyParam:function(a,b){var c=this.__collectAllPropertyValues.apply(this,["__properties",2,a].concat(b||[]));return b?c[b]:c},__hasProperty:function(a){return a=this.__adjustPropertyName(a),"_"+a in this},__adjustPropertyName:function(a){return a.replace(/(?:_)\w/,function(a){return a[1].toUpperCase()})},__getPropertyValue:function(a){a=this.__adjustPropertyName(a);var c=b.toArray(arguments).slice(1);if(!("_"+a in this))throw new Error('Property "'+a+'" does not exists!');var d=this["_"+a],e=this.__getGetters(a);for(var f in e)d=e[f].call(this,d);for(var g=0,h=c.length;h>g;++g){if(!c[g]in d)throw new Error('Property "'+[a].concat(c.slice(0,g)).join(".")+'" does not exists!');d=d[c[g]]}return d},__hasPropertyValue:function(a){a=this.__adjustPropertyName(a);for(var c=b.toArray(arguments).slice(1),d=this.__getPropertyValue(a),e=0,f=c.length;f>e;++e)if(!(c[e]in d))return!1;return!b.isUndefined(d)&&!b.isNull(d)},__isPropertyValue:function(c){var d=b.toArray(arguments).slice(1,-1),e=arguments.length>1?b.last(arguments):a,f=this.__getPropertyValue.apply(this,[c].concat(d));return b.isUndefined(e)?!!f:f===e},__clearPropertyValue:function(c){c=this.__adjustPropertyName(c);var d=b.toArray(arguments).slice(1),e=d.length?this.__getPropertyValue.apply(this,[c].concat(d.slice(0,-1))):this,f=d.length?b.last(d):"_"+c;if(!(f in e))throw new Error('Property "'+[c].concat(d)+'" does not exists!');var g=e[f],h=a;if(g.constructor==={}.constructor?h={}:b.isArray(g)&&(h=[]),e[f]=h,b.isFunction(this.__emitEvent)){if(g.constructor==={}.constructor)for(var i in g)this.__emitEvent("property."+[c].concat(d).join(".")+".item_removed",i,g[i]),this.__emitEvent("property."+[c].concat(d,i).join(".")+".removed",g[i]);else if(b.isArray(g))for(var j=0,k=g.length;k>j;++j)this.__emitEvent("property."+[c].concat(d).join(".")+".item_removed",j,g[j]),this.__emitEvent("property."+[c].concat(d,j).join(".")+".removed",g[j]);this.__emitEvent("property.cleared",d.length?[c].concat(d):c,g),this.__emitEvent("property."+[c].concat(d).join(".")+".cleared",g)}return this},__removePropertyValue:function(a){a=this.__adjustPropertyName(a);var c=b.toArray(arguments).slice(1),d=c.length?this.__getPropertyValue.apply(this,[a].concat(c.slice(0,-1))):this,e=c.length?b.last(c):"_"+a;if(!(e in d))throw new Error('Property "'+[a].concat(c)+'" does not exists!');var f=d[e];return delete d[e],b.isFunction(this.__emitEvent)&&(this.__emitEvent("property.removed",c.length?[a].concat(c):a,f),this.__emitEvent("property."+[a].concat(c).join(".")+".removed",f)),this},__setPropertyValue:function(a){if(a=this.__adjustPropertyName(a),!this.__hasProperty(a))throw new Error('Property "'+a+'" does not exists!');var c=b.toArray(arguments).slice(1,-1),d=b.last(arguments),e;if(c.length){var f=this;c.unshift("_"+a);for(var g=c.pop(),h=0,i=c.length;i>h;++h)b.isUndefined(f[c[h]])&&(f[c[h]]={}),f=f[c[h]];e=f[g],f[g]=d}else{var j=this.__getSetters(a);for(var k in j)d=j[k].call(this,d);e=this["_"+a],this["_"+a]=d}return b.isFunction(this.__emitEvent)&&(this.__emitEvent("property.changed",c.length?[a].concat(c):a,d,e),this.__emitEvent([a].concat(c),d,e)),this},__addSetter:function(a,c,d){if(!b.isFunction(d))throw new Error("Setter callback must be a function!");return a in this.__setters||(this.__setters[a]={}),this.__setters[a][c]=d,this},__getSetters:function(a){var b=this.__collectAllPropertyValues.apply(this,["__setters",1].concat(a||[]));return a?b[a]||{}:b},__addGetter:function(a,c){if(!b.isFunction(c))throw new Error("Getter callback must be a function!");return a in this.__getters||(this.__getters[a]=[]),this.__getters[a].push([weight,c]),this},__getGetters:function(a){var b=this.__collectAllPropertyValues.apply(this,["__getters",1].concat(a||[]));return a?b[a]||{}:b},__setData:function(a){for(var b in a)this.__hasProperty(b)&&this.__setPropertyValue(b,a[b]);return this},__getData:function(){var a={},c=this.__getPropertiesMeta();for(var d in c){var e=this.__getPropertyValue(d);if(b.isArray(e))for(var f=0,g=e.length;g>f;++f)b.isFunction(e[f].__getData)&&(e[f]=e[f].__getData());else if(e.constructor==={}.constructor)for(var h in e)b.isFunction(e[h].__getData)&&(e[h]=e[h].__getData());else b.isFunction(e.__getData)&&(e=e.__getData());a[d]=e}return a}}}),d("Property",{process:function(c,e,f){c["_"+f]=a,b.isArray(e)?e=3===e.length?{type:[e[0],e[2]],"default":e[1]}:{type:e}:b.isObject(e)||(e={"default":e}),"methods"in e||(e.methods=["get","set","has","is","clear","remove"]);for(var g in e)if(g in this._options){var h=this._options[g];b.isString(h)&&(h=d(h)),h.process(c,e[g],f)}},addOption:function(a,b){if(a in this._options)throw new Error('Option "'+a+'" is already exists!');return this._options[a]=b,this},hasOption:function(a){return a in this._options},removeOption:function(a){if(!(a in this._options))throw new Error('Option "'+a+'" does not exists!');return delete this._options[a],this},_options:{type:"Property/Type","default":"Property/Default",alias:"Property/Alias",methods:"Property/Methods",constraints:"Property/Constraints",converters:"Property/Converters",getters:"Property/Getters",setters:"Property/Setters"}}),e("Property","meta",function(a){a("Alias",{process:function(a,b,c){b&&a.__setPropertyParam(c,"aliases",[].concat(b))}}),a("Constraints",{SETTER_NAME:"__constraints__",process:function(a,b,c){var d=this;a.__addSetter(c,this.SETTER_NAME,function(a){return d.apply(a,b,c,this)})},apply:function(a,b,c,d){for(var e in b)if(!b[e].call(d,a,c))throw new Error('Constraint "'+e+'" was failed!');return a}}),a("Converters",{SETTER_NAME:"__converters__",process:function(a,b,c){var d=this;a.__addSetter(c,this.SETTER_NAME,function(a){return d.apply(a,b,c,this)})},apply:function(a,b,c,d){for(var e in b)a=b[e].call(d,a,c);return a}}),a("Default",{process:function(a,c,d){b.isUndefined(c)||a.__setPropertyParam(d,"default",c)}}),a("Getters",{process:function(a,b,c){for(var d in b)a.__addGetter(c,d,b[d])}}),a("Methods",{process:function(a,b,c,d){for(var e=0,f=b.length;f>e;++e)this.addMethodToObject(b[e],a,c);for(var d=a.__getPropertyParam(c,"aliases")||[],g=0,h=d.length;h>g;++g)for(var e=0,f=b.length;f>e;++e)this.addMethodToObject(b[e],a,c,d[g])},addMethodToObject:function(a,b,c,d){var e=this.createMethod(a,c,d);b[e.name]=e.body},createMethod:function(a,c,d){if(!(a in this._methods))throw new Error('Method "'+a+'" does not exists!');var e=this._methods[a](c,d);if(b.isFunction(e)){var f="undefined"!=typeof d?d:c;e={name:a+f[0].toUpperCase()+f.slice(1),body:e}}return e},addMethod:function(a,b){if(a in this._methods)throw new Error('Method "'+a+'" is already exists!');return this._methods[a]=b,this},hasMethod:function(a){return a in this._methods},removeMethod:function(a){if(!(a in this._methods))throw new Error('Method "'+a+'" does not exists!');return delete this._methods[a],this},_methods:{get:function(a){return function(){return this.__getPropertyValue.apply(this,[a].concat(b.toArray(arguments)))}},set:function(a){return function(){return this.__setPropertyValue.apply(this,[a].concat(b.toArray(arguments)))}},is:function(a,c){var d=b.isUndefined(c)?a:c;return{name:0!==d.indexOf("is")?"is"+d[0].toUpperCase()+d.slice(1):d,body:function(){return this.__isPropertyValue.apply(this,[a].concat(b.toArray(arguments)))}}},has:function(a){return function(){return this.__hasPropertyValue.apply(this,[a].concat(b.toArray(arguments)))}},clear:function(a){return function(){return this.__clearPropertyValue.apply(this,[a].concat(b.toArray(arguments)))}},remove:function(a){return function(){return this.__removePropertyValue.apply(this,[a].concat(b.toArray(arguments)))}}}}),a("Setters",{process:function(a,b,c){for(var d in b)a.__addSetter(c,d,b[d])}}),a("Type",{SETTER_NAME:"__type__",process:function(a,b,c){var d=this;a.__addSetter(c,this.SETTER_NAME,function(e){return d.apply(e,b,c,a)})},apply:function(a,c,d,e){if(b.isUndefined(a)||b.isNull(a))return a;var f={};if(b.isArray(c)&&(f=c[1]||{},c=c[0]),!(c in this._types))throw new Error('Property type "'+c+'" does not exists!');return this._types[c].call(this,a,f,d,e)},addType:function(a,b){if(a in this._types)throw new Error('Property type "'+a+'" is already exists!');return this._types[a]=b,this},hasType:function(a){return a in this._types},removeType:function(a){if(!(a in this._types))throw new Error('Property type "'+a+'" does not exists!');return delete this._types[a],this},setDefaultArrayDelimiter:function(a){if(!b.isString(a)&&!b.isRegExp(a))throw new Error("Delimiter must be a string or a regular expression!");return this._defaultArrayDelimiter=a,this},getDefaultArrayDelimiter:function(){return this._defaultArrayDelimiter},_defaultArrayDelimiter:/\s*,\s*/g,_types:{"boolean":function(a){return Boolean(a)},number:function(a,b,c){if(a=Number(a),"min"in b&&a<b.min)throw new Error('Value "'+a+'" of property "'+c+'" must not be less then "'+b.min+'"!');if("max"in b&&a>b.max)throw new Error('Value "'+a+'" of property "'+c+'" must not be greater then "'+b.max+'"!');return a},string:function(a,b,c){if(a=String(a),"pattern"in b&&!b.pattern.test(a))throw new Error('Value "'+a+'" of property "'+c+'" does not match pattern "'+b.pattern+'"!');if("variants"in b&&-1===b.variants.indexOf(a))throw new Error('Value "'+a+'" of property "'+c+'" must be one of "'+b.variants.join(", ")+'"!');return a},datetime:function(a,c,d){if(b.isNumber(a)&&!isNaN(a)?a=new Date(a):b.isString(a)&&(a=new Date(Date.parse(a))),!(a instanceof Date))throw new Error('Value of property "'+d+'" must have datetime type!');return a},array:function(a,c,d){var e,f,g;if(b.isString(a)&&(a=a.split(c.delimiter||this._defaultArrayDelimiter)),"element"in c)for(g=[].concat(c.element),e=0,f=a.length;f>e;++e)a[e]=this.apply.call(this,a[e],g,d+"."+e);return a},hash:function(a,c,d){var e,f;if(!b.isObject(a))throw new Error('Value of property "'+d+'" must have object type!');if("keys"in c)for(e in a)if(!(e in c.keys))throw new Error('Unsupported hash key "'+e+'" for property "'+d+'"!');if("element"in c){f=[].concat(c.element);for(e in a)a[e]=this.apply.call(this,a[e],f,d+"."+e)}return a},object:function(a,c,d,e){if(!b.isObject(a))throw new Error('Value of property "'+d+'" must have an object type!');if("instanceOf"in c){var f=c.instanceOf,g=e.__isClazz?e.__clazz:e.__clazz.__clazz;if(b.isString(f)&&(f=g.getNamespace().adjustPath(f),a.__clazz||(f=g(f))),a.__clazz?!a.__clazz.__isSubclazzOf(f):!(a instanceof f)){var h=f.__isClazz?f.__name:b.isString(f)?f:"another";throw new Error('Value of property "'+d+'" must be instance of '+h+" clazz!")}}return a},"function":function(a,c,d){if(!b.isFunction(a))throw new Error('Value of property "'+d+'" must have function type');return a}}})}),c("Base",function(){var a=0;return{clazz_methods:{create:function(){var a=arguments,b=new this(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10]);return this.emit("object.create",b),b},emit:function(){return this.__emitEvent.apply(this,b.toArray(arguments))},"const":function(){return this.__executeConstant.apply(this,b.toArray(arguments))}},methods:{__construct:function(){this.__uid=++a;for(var c in this)0===c.indexOf("__init")&&b.isFunction(this[c])&&this[c]();b.isFunction(this.init)&&this.init.apply(this,b.toArray(arguments))},getUID:function(){return this.__uid},init:function(a){return this.__setData(a)},parent:function(a){var c=this;if(!c.__parent)throw new Error('Parent clazz does not exists for "'+this.__clazz.__name+'" clazz!');if(!b.isFunction(c.__parent[a]))throw new Error('Method "'+a+'" does not exists in clazz "'+this.__clazz.__name+'"!');return a=c.__parent[a],function(){return a.apply(this,b.toArray(arguments))}},emit:function(){return this.__emitEvent.apply(this,b.toArray(arguments))},"const":function(){return this.__clazz.__executeConstant.apply(this.__clazz,b.toArray(arguments))}}}})}),l.getFactory().setMetaProcessor(i("/ClazzJS/Base")).setBaseClazz(l("/ClazzJS/Base")),{Namespace:c,Clazz:e,Meta:d,namespace:g,clazz:l,meta:i,_:b}});
//# sourceMappingURL=dist/ClazzJS.min.map