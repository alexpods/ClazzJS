!function(a,b,c,d){if("function"==typeof define&&define.amd)define(b,c,d);else if("object"==typeof exports&&exports){for(var e=0,f=c.length;f>e;++e){var g=c[e];"string"==typeof g&&(g=g.replace(/([A-Z]+)/g,function(a){return"-"+a.toLowerCase()}).replace(/^-/,""),c[e]=require(g))}var h=d.apply(a,c);for(var i in h)exports[i]=h[i]}else{for(var e=0,f=c.length;f>e;++e){var g=c[e];if("string"==typeof g){if(!(g in a))throw new Error('"'+b+'" dependent on non exited module "'+g+'"!');c[e]=a[g]}}a[b]=d.apply(a,c)}}(new Function("return this")(),"ClazzJS",[],function(a){var b=function(){var a=function(b,c){var d=function(a){var b=d.getScope().getNamespace(d.adjustPath(a));return arguments.length>1&&b.space.apply(b,_.toArray(arguments).slice(1)),b};return _.extend(d,a.prototype),d._scope=b,d._path=c,d._spaces=[],d._objects={},d};_.extend(a.prototype,{getPath:function(){return this._path},getScope:function(){return this._scope},adjustPath:function(a){return this._scope.isAbsolutePath(a)?this._scope.adjustPath(a):this._scope.concatPaths(this.getPath(),a)},get:function(a){return a in this._objects||(this._objects[a]=this._scope.get(a).call(this)),this._objects[a]},has:function(a){return this._scope.has(a)},space:function(){var a=this,b=_.toArray(arguments).slice(0,-1),c=_.last(arguments),d=[];b.length||(b=this._scope.getDefaultInjects());for(var e=0,f=b.length;f>e;++e)d[e]=this.get(b[e]);return this._spaces.push(function(){c.apply(a,d)}),this},executeSpace:function(){return this._spaces.length?(this._spaces.pop()(),!0):!1}});var b=function(a){a=a||{},this._innerDelimiter=a.innerDelimiter||"/",this._delimiters=a.delimiters||["\\","/","."],this._defaultInjects=a.defaultInjects||[],this._namespaces={},this._factories={},this._search=[]};return _.extend(b.prototype,{getInnerDelimiter:function(){return this._innerDelimiter},setInnerDelimiter:function(a){if(!this.hasDelimiter(a))throw new Error('Delimiter "'+a+'" does not supported!');return this._innerDelimiter=a,this},getDelimiters:function(){return this._delimiters},addDelimiter:function(a){if(this.hasDelimiter(a))throw new Error('Delimiter "'+a+'" is already exists!');return this},removeDelimiter:function(a){if(!this.hasDelimiter(a))throw new Error('Delimiter "'+a+'" does not exists!')},hasDelimiter:function(a){return-1!==this._delimiters.indexOf(a)},getNamespace:function(b){return b=this.adjustPath(b),b in this._namespaces||(this._namespaces[b]=a(this,b)),this._namespaces[b]},getRootNamespace:function(){return this.getNamespace(this.getRootPath())},getRootPath:function(){return this._innerDelimiter},adjustPath:function(a){var b=this.getInnerDelimiter(),c=this.getDelimiters();return a.replace(new RegExp("[\\"+c.join("\\")+"]","g"),b).replace(new RegExp(b+"+","g"),b).replace(new RegExp("(.+)"+b+"$"),function(a){return a})},isAbsolutePath:function(a){return 0===a.indexOf(this.getRootNamespace().getPath())},concatPaths:function(){return this.adjustPath(_.toArray(arguments).join(this.getInnerDelimiter()))},set:function(a,b){if(a in this._factories)throw new Error('Factory for object "'+a+'" is already exists!');return this._factories[a]=b,this},get:function(a){if(!(a in this._factories))throw new Error('Factory for object "'+a+'" does not exists!');return this._factories[a]},has:function(a){return a in this._factories},remove:function(a){return delete this._factories[a],this},getInSearchError:function(a){var b=new Error('Path "'+a+'" is in search state!');return b.inSearch=!0,b.path=a,b},isInSearchError:function(a){return a.inSearch},search:function(a,b){a=this.adjustPath(a);var c=b(a);if(!_.isUndefined(c))return c;for(var d=this.getInnerDelimiter(),e=a.split(d),f=e.pop();e.length;){var g=e.join(d);if(g in this._namespaces)for(var h=this._namespaces[g];h.executeSpace();)if(c=b(g+d+f),!_.isUndefined(c))return c;f=e.pop()}},getDefaultInjects:function(){return this._defaultInjects},addDefaultInject:function(a){if(-1!==this._defaultInjects.indexOf(a))throw new Error('Default inject "'+a+'" is already exists!');return this._defaultInjects.push(a),this},removeDefaultInject:function(a){var b=this._defaultInjects.indexOf(a);if(-1===b)throw new Error('Default inject "'+a+'" does not exists!');return this._defaultInjects.splice(b,1),this}}),{Namespace:a,Scope:b}}(),c=function(){var a=function(){this._processors={}};_.extend(a.prototype,{getProcessor:function(a){return this.checkProcessor(a),this._processors[a]},hasProcessor:function(a){return a in this._processors},setProcessor:function(a,b){return _.isFunction(b)&&(b={process:b}),"__name"in b||(b.__name=a),this._processors[a]=b,this},removeProcessor:function(a){this.checkProcessor(a);var b=this._processors[a];return delete this._processors[a],b},getProcessors:function(){return this._processors},setProcessors:function(a){for(var b in a)this.setProcessor(b,a[b]);return this},checkProcessor:function(a){if(!this.hasProcessor(a))throw new Error('Meta processor "'+a+'" does not exists!')}});var b=function(a,c){var d=function(a,b){return _.isUndefined(b)?d.get(a):d.set(a,b)};return _.extend(d,b.prototype),d._manager=a,d._namespace=c,d};return _.extend(b.prototype,{getManager:function(){return this._manager},getNamespace:function(){return this._namespace},get:function(a){var b=this.getManager(),c=this.resolveProcessorName(a);if(!c)throw new Error('Meta processor "'+a+'" does not exist!');return b.getProcessor(c)},set:function(a,b){var c=this.getNamespace(),d=this.getManager();return d.setProcessor(c.adjustPath(a),b),this},resolveProcessorName:function(a){var b=this.getManager(),c=this.getNamespace();return c.getScope().search(c.adjustPath(a),function(a){return b.hasProcessor(a)?a:void 0})}}),{Meta:b,Manager:a}}(),d=function(){var b=function(a,c,d){var e=function(a,b,c){var d=_.last(arguments);return _.isFunction(d)&&!d.prototype.__clazz||"[object Object]"===Object.prototype.toString.call(d)?(e.set(a,b,c),void 0):e.get(a,b,c)};return _.extend(e,b.prototype),e._manager=a,e._factory=c,e._namespace=d,e};_.extend(b.prototype,{getManager:function(){return this._manager},getFactory:function(){return this._factory},getNamespace:function(){return this._namespace},has:function(a){return!!this.resolveName(a)},get:function(b,c,d){_.isUndefined(d)&&_.isArray(c)&&(d=c,c=a);var e=this.resolvePath(b);if(!e)throw new Error('Clazz "'+b+'" does not exists!');d=d||[];var f=this.getManager();if(!f.hasClazz(e,c,d)){var g=this.getFactory(),h=f.getClazzData(e);f.setClazz(e,g.create({name:h.name,parent:c,metaParent:h.parent,meta:h.meta,dependencies:d},this),c,d)}return f.getClazz(e,c,d)},set:function(b,c,d){_.isUndefined(d)&&(d=c,c=a);var e=this.getNamespace(),f=this.getManager();return _.isUndefined(d)&&(d=c,c=null),b=e.adjustPath(b),_.isString(c)&&(c=e.adjustPath(c)),f.setClazzData(b,{name:b,parent:c,meta:d}),this},resolvePath:function(a){var b=this.getNamespace(),c=this.getManager();return b.getScope().search(b.adjustPath(a),function(a){return c.hasClazzData(a)?a:void 0})}});var c=function(a){a=a||{},this._clazzUID=0,this._metaProcessor=a.metaProcessor||null,this._baseClazz=a.baseClazz||null};_.extend(c.prototype,{CLAZZ_NAME:"Clazz{uid}",getBaseClazz:function(){return this._baseClazz},setBaseClazz:function(a){if(!_.isFunction(a))throw new Error("Base clazz must be a function!");return this._baseClazz=a,this},getMetaProcessor:function(){return this._metaProcessor},setMetaProcessor:function(a){if(!_.isFunction(a.process))throw new Error('Meta processor must have "process" method!');return this._metaProcessor=a,this},create:function(a,b){var c=a.name||this.generateName(),d=a.parent,e=a.metaParent,f=a.meta||{},g=a.dependencies||[],h=this.createClazz();return h.__name=c,_.isFunction(f)&&(f=f.apply(h,[h].concat(g))||{}),!f.parent&&e&&(f.parent=e),d=d||f.parent,_.isString(d)&&(d=[d]),_.isArray(d)&&(d=b.get.apply(b,d)),this.applyParent(h,d),h.prototype.__clazz=h,h.prototype.__proto=h.prototype,this.applyMeta(h,f),h},createClazz:function(){return function a(){var b;if(!(this instanceof a))throw new Error('Use "new" to create new "'+a.__name+'" instance!');return _.isFunction(this.__construct)?b=this.__construct.apply(this,_.toArray(arguments)):a.__parent&&(b=a.__parent.apply(this,_.toArray(arguments))),_.isUndefined(b)?void 0:b}},applyParent:function(b,c){if(c=c||this.getBaseClazz())for(var d in c)"__name"!==d&&(_.isFunction(c[d])?b[d]=c[d]:"_"===d[0]&&(b[d]=a));return b.prototype=Object.create(c?c.prototype:{}),b.__parent=c||null,b.prototype.constructor=b,b.prototype.__parent=c?c.prototype:null,b},applyMeta:function(a,b){return this.getMetaProcessor().process(a,b),a},generateName:function(){return this.CLAZZ_NAME.replace("{uid}",++this._clazzUID)}});var d=function(){this._clazz={},this._clazzData={}};return _.extend(d.prototype,{setClazzData:function(a,b){return this._clazzData[a]=b,this},hasClazzData:function(a){return a in this._clazzData},getClazzData:function(a){if(!this.hasClazzData(a))throw new Error('Data does not exists for clazz "'+a+'"!');return this._clazzData[a]},getClazz:function(a,b,c){if(a in this._clazz)for(var d=this._clazz[a],e=0,f=d.length;f>e;++e)if(!b||d[e][1]===b){var g=!0;if(c)for(var h=0,i=d[e][2].length;i>h;++h)if(d[e][2][h]!==c[h]){g=!1;break}if(g)return d[e][0]}throw new Error('Clazz "'+a+'" does not exists!')},hasClazz:function(a,b,c){if(a in this._clazz)for(var d=this._clazz[a],e=0,f=d.length;f>e;++e)if(!b||d[e][1]===b){var g=!0;if(c)for(var h=0,i=d[e][2].length;i>h;++h)if(d[e][2][h]!==c[h]){g=!1;break}if(g)return!0}return!1},setClazz:function(a,b,c,d){if(!_.isFunction(b))throw new Error("Clazz must be a function!");return a in this._clazz||(this._clazz[a]=[]),this._clazz[a].push([b,c,d||[]]),this}}),{Clazz:b,Factory:c,Manager:d}}(),e=new b.Scope({defaultInjects:["clazz","namespace"]}),f=e.getRootNamespace(),g=new c.Manager,h=new c.Meta(g,f),i=new d.Manager,j=new d.Factory,k=new d.Clazz(i,j,f);return e.set("namespace",function(){return this}),e.set("meta",function(){return new c.Meta(g,this)}),e.set("clazz",function(){return new d.Clazz(i,j,this)}),f("ClazzJS","clazz","meta","namespace",function(b,c,d){c("Base",{_objectTypes:{clazz:function(a){return a},proto:function(a){return a.prototype}},_processors:{clazz:{},proto:{}},_optionProcessors:{clazz:{constants:"Constants",clazz_properties:"Properties",clazz_methods:"Methods",clazz_events:"Events"},proto:{properties:"Properties",methods:"Methods",events:"Events"}},process:function(a,b){a.__isClazz||_.extend(a,this.clazz_interface);var d=b.parent;if(d&&!a.__isSubclazzOf(d))throw new Error('Clazz "'+a.__name+'" must be subclazz of "'+d.__isClazz?d.__name:d+'"!');for(var e in this._objectTypes){var f=this._objectTypes[e](a);f.__interfaces||(f.__interfaces=["common"],_.extend(f,this.common_interface))}for(var e in this._processors){var f=this._objectTypes[e](a),g=this._processors[e];for(var h in g){var i=g[h];_.isString(i)&&(i=c(i)),i.interface&&!f.__isInterfaceImplemented(i.__name)&&f.__implementInterface(i.__name,i.interface),i.process(f,b)}}for(var e in this._optionProcessors){var f=this._objectTypes[e](a),g=this._optionProcessors[e];for(var j in g){var i=g[j];_.isString(i)&&(i=c(i)),i.interface&&!f.__isInterfaceImplemented(i.__name)&&f.__implementInterface(i.__name,i.interface),i.process(f,b[j]||{},j)}}},addObjectType:function(a,b){return a in this._processors||(this._processors[a]=[]),a in this._optionProcessors||(this._optionProcessors[a]={}),this._objectTypes[a]=b,this},removeObjectType:function(a){return a in this._processors&&delete this._processors,a in this._optionProcessors&&delete this._optionProcessors[a],delete this._objectTypes[a],this},hasProcessor:function(a,b){return b in this._processors[a]},addProcessor:function(a,b){if(b.__name in this._processors[a])throw new Error('Processor "'+b.__name+'" is already exists for object type "'+a+'"!');return this._processors[a][b.__name]=b,this},removeProcessor:function(a,b){if(!(b in this._processors[a]))throw new Error('Processor "'+b+'" does not exists for object type "'+a+'"!');return delete this._processors[a][b],this},hasOptionProcessor:function(a,b){return b in this._optionProcessors[a][b]},addOptionProcessor:function(a,b,c){return this._optionProcessors[a][b]=c,this},removeOptionProcessor:function(a,b){return delete this._optionProcessors[a][b],this},clazz_interface:{__isClazz:!0,__isSubclazzOf:function(a){for(var b=this;b;){if(b===a||b.__name===a)return!0;b=b.__parent}return!1}},common_interface:{__isInterfaceImplemented:function(a){return-1!==this.__interfaces.indexOf(a)},__implementInterface:function(a,b){if(-1!==this.__interfaces.indexOf(a))throw new Error('Interface "'+a+'" is already implemented!');return this.__interfaces.push(a),_.extend(this,b),this},__collectAllPropertyValues:function(a,b){function c(a,b,d,e){e=[].concat(e);for(var f in b)e[0]&&f!==e[0]||(d>1&&"[object Object]"===Object.prototype.toString.call(b[f])?(f in a||(a[f]={}),c(a[f],b[f],d-1,e.slice(1))):f in a||(a[f]=b[f]))}var d=[];this.hasOwnProperty(a)&&d.push(this[a]),this.__proto&&this.__proto.hasOwnProperty(a)&&d.push(this.__proto[a]);for(var e=this.__parent;e;)e.hasOwnProperty(a)&&d.push(e[a]),e=e.__parent;for(var f=_.toArray(arguments).slice(2),g={},h=0,i=d.length;i>h;++h)c(g,d[h],b||1,f);return g}}}),c("Constants",{process:function(a,b){a.__constants={};for(var c in b)a.__constants[c]=b[c]},"interface":{__initConstants:function(){this.__constants={}},__getConstants:function(){return this.__collectAllPropertyValues("__constants",99)},__getConstant:function(){for(var a=_.toArray(arguments),b=this.__collectAllPropertyValues.apply(null,["__constants",99].concat(a)),c=0,d=a.length;d>c;++c){if(!(a[c]in b))throw new Error('Constant "'+a.splice(0,c).join(".")+'" does not exists!');b=a[c]}return b},__executeConstant:function(a,b){var c=this;if(_.isUndefined(b)&&(b=c.__getConstants()),!_.isUndefined(a)){if(!(a in b))throw new Error('Constant "'+a+'" does not defined!');if(b=b[a],"[object Object]"===Object.prototype.toString.call(b))return function(a){return c.__executeConstant(a,b)}}return b}}}),c("Events",{process:function(a,b){a.__events={};for(var c in b)for(var d in b[c])a.__addEventListener(c,d,b[c][d])},"interface":{__initEventsCallbacks:function(){this.__events={}},__emitEvent:function(a){var b=this.__getEventListeners(a);for(var c in b)b[c].apply(this,_.toArray(arguments).slice(1));return this},__addEventListener:function(a,b,c){if(this.__hasEventListener(a,b))throw new Error('Event listener for event "'+a+'" with name "'+b+'" is already exists!');return a in this.__events||(this.__events[a]={}),this.__events[a][b]=c,this},__removeEventListener:function(b,c){if(!this.hasEventCallback(b,c))throw new Error('There is no "'+b+(c?'"::"'+c:"")+'" event callback!');return this.__events[b][c]=a,this},__hasEventListener:function(a,b){return b in this.__getEventListeners(a)},__getEventListener:function(a,b){var c=this.__getEventListeners(a);if(!(b in c))throw new Error('Event listener for event "'+a+'" with name "'+b+'" does not exists!');return c[a][b]},__getEventListeners:function(a){return this.__collectAllPropertyValues.apply(null,["__events",2].concat(a||[]))}}}),c("Methods",{process:function(a,b){for(var c in b){if(!_.isFunction(b[c]))throw new Error('Method "'+c+'" must be a function!');a[c]=b[c]}}}),c("Properties",{_propertyMetaProcessor:"Property",process:function(a,b){a.__properties={},a.__setters={},a.__getters={};var c=this.getPropertyMetaProcessor();for(var d in b)c.process(a,b[d],d)},getPropertyMetaProcessor:function(){return _.isString(this._propertyMetaProcessor)&&(this._propertyMetaProcessor=c(this._propertyMetaProcessor)),this._propertyMetaProcessor},setPropertyMetaProcessor:function(a){return this._propertyMetaProcessor=a,this},"interface":{__initProperties:function(){this.__properties={},this.__setters={},this.__getters={};var a=this.__getPropertiesParam();for(var b in a)if("default"in a[b]){var c=a[b].default;_.isFunction(c)&&(c=c.ca),this["_"+b]=a[b]["default"]}},__setPropertiesParam:function(a){for(var b in a)this.__setPropertyParam(b,a[b]);return this},__getPropertiesParam:function(){return this.__collectAllPropertyValues("__properties",2)},__setPropertyParam:function(a,b,c){var d={};return _.isUndefined(c)?_.isObject(b)&&_.extend(d,b):d[b]=c,a=this.__adjustPropertyName(a),a in this.__properties||(this.__properties[a]={}),_.extend(this.__properties[a],d),this},__getPropertyParam:function(a,b){var c=this.__collectAllPropertyValues.apply(null,["__properties",2,a].concat(b||[]));return b?c[b]:c},__hasProperty:function(a){return a=this.__adjustPropertyName(a),"_"+a in this},__adjustPropertyName:function(a){return a.replace(/(?:_)\w/,function(a){return a[1].toUpperCase()})},__getPropertyValue:function(a){a=this.__adjustPropertyName(a);var b=_.toArray(arguments).slice(1);if(!("_"+a in this))throw new Error('Property "'+a+'" does not exists!');var c=this["_"+a],d=this.__getGetters(a);for(var e in d)c=d[e].call(this,c);for(var f=0,g=b.length;g>f;++f){if(!b[f]in c)throw new Error('Property "'+[a].concat(b.slice(0,f)).join(".")+'" does not exists!');c=c[b[f]]}return c},__hasPropertyValue:function(a){a=this.__adjustPropertyName(a);for(var b=_.toArray(arguments).slice(1),c=this.__getPropertyValue(a),d=0,e=b.length;e>d;++d)if(!(b[d]in c))return!1;return!_.isUndefined(c)&&!_.isNull(c)},__isPropertyValue:function(b){var c=_.toArray(arguments).slice(1,-1),d=arguments.length>1?_.last(arguments):a,e=this.__getPropertyValue.apply(this,[b].concat(c));return _.isUndefined(d)?!!e:e===d},__clearPropertyValue:function(b){b=this.__adjustPropertyName(b);var c=_.toArray(arguments).slice(1),d=c.length?this.__getPropertyValue.apply(this,[b].concat(c.slice(0,-1))):this,e=c.length?_.last(c):"_"+b;if(!(e in d))throw new Error('Property "'+[b].concat(c)+'" does not exists!');var f=d[e],g=a;if(f.constructor==={}.constructor?g={}:_.isArray(f)&&(g=[]),d[e]=g,_.isFunction(this.__emitEvent)){if(f.constructor==={}.constructor)for(var h in f)this.__emitEvent("property."+[b].concat(c).join(".")+".item_removed",h,f[h]),this.__emitEvent("property."+[b].concat(c,h).join(".")+".removed",f[h]);else if(_.isArray(f))for(var i=0,j=f.length;j>i;++i)this.__emitEvent("property."+[b].concat(c).join(".")+".item_removed",i,f[i]),this.__emitEvent("property."+[b].concat(c,i).join(".")+".removed",f[i]);this.__emitEvent("property.cleared",c.length?[b].concat(c):b,f),this.__emitEvent("property."+[b].concat(c).join(".")+".cleared",f)}return this},__removePropertyValue:function(a){a=this.__adjustPropertyName(a);var b=_.toArray(arguments).slice(1),c=b.length?this.__getPropertyValue.apply(this,[a].concat(b.slice(0,-1))):this,d=b.length?_.last(b):"_"+a;if(!(d in c))throw new Error('Property "'+[a].concat(b)+'" does not exists!');var e=c[d];return delete c[d],_.isFunction(this.__emitEvent)&&(this.__emitEvent("property.removed",b.length?[a].concat(b):a,e),this.__emitEvent("property."+[a].concat(b).join(".")+".removed",e)),this},__setPropertyValue:function(a){if(a=this.__adjustPropertyName(a),!this.__hasProperty(a))throw new Error('Property "'+a+'" does not exists!');var b=_.toArray(arguments).slice(1,-1),c=_.last(arguments),d;if(b.length){var e=this;b.unshift("_"+a);for(var f=b.pop(),g=0,h=b.length;h>g;++g)_.isUndefined(e[b[g]])&&(e[b[g]]={}),e=e[b[g]];d=e[f],e[f]=c}else{var i=this.__getSetters(a);for(var j in i)c=i[j].call(this,c);d=this["_"+a],this["_"+a]=c}return _.isFunction(this.__emitEvent)&&(this.__emitEvent("property.changed",b.length?[a].concat(b):a,c,d),this.__emitEvent([a].concat(b),c,d)),this},__addSetter:function(a,b,c){if(!_.isFunction(c))throw new Error("Setter callback must be a function!");return a in this.__setters||(this.__setters[a]={}),this.__setters[a][b]=c,this},__getSetters:function(a){var b=this.__collectAllPropertyValues.apply(null,["__setters",1].concat(a||[]));return a?b[a]||{}:b},__addGetter:function(a,b){if(!_.isFunction(b))throw new Error("Getter callback must be a function!");return a in this.__getters||(this.__getters[a]=[]),this.__getters[a].push([weight,b]),this},__getGetters:function(a){var b=this.__collectAllPropertyValues.apply(null,["__getters",1].concat(a||[]));return a?b[a]||{}:b},__setData:function(a){for(var b in a)this.__hasProperty(b)&&this.__setPropertyValue(b,a[b]);return this},__getData:function(){var a={},b=this.__getPropertiesMeta();for(var c in b){var d=this.__getPropertyValue(c);if(_.isArray(d))for(var e=0,f=d.length;f>e;++e)_.isFunction(d[e].__getData)&&(d[e]=d[e].__getData());else if(d.constructor==={}.constructor)for(var g in d)_.isFunction(d[g].__getData)&&(d[g]=d[g].__getData());else _.isFunction(d.__getData)&&(d=d.__getData());a[c]=d}return a}}}),c("Property",{process:function(b,d,e){b["_"+e]=a,_.isArray(d)?d=3===d.length?{type:[d[0],d[2]],"default":d[1]}:{type:d}:_.isObject(d)||(d={"default":d}),"methods"in d||(d.methods=["get","set","has","is","clear","remove"]);for(var f in d)if(f in this._options){var g=this._options[f];_.isString(g)&&(g=c(g)),g.process(b,d[f],e)}},addOption:function(a,b){if(a in this._options)throw new Error('Option "'+a+'" is already exists!');return this._options[a]=b,this},hasOption:function(a){return a in this._options},removeOption:function(a){if(!(a in this._options))throw new Error('Option "'+a+'" does not exists!');return delete this._options[a],this},_options:{type:"Property/Type","default":"Property/Default",alias:"Property/Alias",methods:"Property/Methods",constraints:"Property/Constraints",converters:"Property/Converters",getters:"Property/Getters",setters:"Property/Setters"}}),d("Property","meta",function(a){a("Alias",{process:function(a,b,c){b&&a.__setPropertyParam(c,"aliases",[].concat(b))}}),a("Constraints",{SETTER_NAME:"__constraints__",process:function(a,b,c){var d=this;a.__addSetter(c,this.SETTER_NAME,function(a){return d.apply(a,b,c,this)})},apply:function(a,b,c,d){for(var e in b)if(!b[e].call(d,a,c))throw new Error('Constraint "'+e+'" was failed!');return a}}),a("Converters",{SETTER_NAME:"__converters__",process:function(a,b,c){var d=this;a.__addSetter(c,this.SETTER_NAME,function(a){return d.apply(a,b,c,this)})},apply:function(a,b,c,d){for(var e in b)a=b[e].call(d,a,c);return a}}),a("Default",{process:function(a,b,c){_.isUndefined(b)||a.__setPropertyParam(c,"default",b)}}),a("Getters",{process:function(a,b,c){for(var d in b)a.__addGetter(c,d,b[d])}}),a("Methods",{process:function(a,b,c,d){for(var e=0,f=b.length;f>e;++e)this.addMethodToObject(b[e],a,c);for(var d=a.__getPropertyParam(c,"aliases")||[],g=0,h=d.length;h>g;++g)for(var e=0,f=b.length;f>e;++e)this.addMethodToObject(b[e],a,c,d[g])},addMethodToObject:function(a,b,c,d){var e=this.createMethod(a,c,d);b[e.name]=e.body},createMethod:function(a,b,c){if(!(a in this._methods))throw new Error('Method "'+a+'" does not exists!');var d=this._methods[a](b,c);if(_.isFunction(d)){var e="undefined"!=typeof c?c:b;d={name:a+e[0].toUpperCase()+e.slice(1),body:d}}return d},addMethod:function(a,b){if(a in this._methods)throw new Error('Method "'+a+'" is already exists!');return this._methods[a]=b,this},hasMethod:function(a){return a in this._methods},removeMethod:function(a){if(!(a in this._methods))throw new Error('Method "'+a+'" does not exists!');return delete this._methods[a],this},_methods:{get:function(a){return function(){return this.__getPropertyValue.apply(this,[a].concat(_.toArray(arguments)))}},set:function(a){return function(){return this.__setPropertyValue.apply(this,[a].concat(_.toArray(arguments)))}},is:function(a,b){var c=_.isUndefined(b)?a:b;return{name:0!==c.indexOf("is")?"is"+c[0].toUpperCase()+c.slice(1):c,body:function(){return this.__isPropertyValue.apply(this,[a].concat(_.toArray(arguments)))}}},has:function(a){return function(){return this.__hasPropertyValue.apply(this,[a].concat(_.toArray(arguments)))}},clear:function(a){return function(){return this.__clearPropertyValue.apply(this,[a].concat(_.toArray(arguments)))}},remove:function(a){return function(){return this.__removePropertyValue.apply(this,[a].concat(_.toArray(arguments)))}}}}),a("Setters",{process:function(a,b,c){for(var d in b)a.__addSetter(c,d,b[d])}}),a("Type",{SETTER_NAME:"__type__",process:function(a,b,c){var d=this;a.__addSetter(c,this.SETTER_NAME,function(a){return d.applyType(a,b,c)})},apply:function(a,b,c){if(_.isUndefined(a)||_.isNull(a))return a;var d={};if(_.isArray(b)&&(d=b[1]||{},b=b[0]),!(b in this._types))throw new Error('Property type "'+b+'" does not exists!');return this._types[b].call(this,a,d,c)},addType:function(a,b){if(a in this._types)throw new Error('Property type "'+a+'" is already exists!');return this._types[a]=b,this},hasType:function(a){return a in this._types},removeType:function(a){if(!(a in this._types))throw new Error('Property type "'+a+'" does not exists!');return delete this._types[a],this},setDefaultArrayDelimiter:function(a){if(!_.isString(a)&&!_.isRegExp(a))throw new Error("Delimiter must be a string or a regular expression!");return this._defaultArrayDelimiter=a,this},getDefaultArrayDelimiter:function(){return this._defaultArrayDelimiter},_defaultArrayDelimiter:/\s*,\s*/g,_types:{"boolean":function(a){return Boolean(a)},number:function(a,b,c){if(a=Number(a),"min"in b&&a<b.min)throw new Error('Value "'+a+'" of property "'+c+'" must not be less then "'+b.min+'"!');if("max"in b&&a>b.max)throw new Error('Value "'+a+'" of property "'+c+'" must not be greater then "'+b.max+'"!');return a},string:function(a,b,c){if(a=String(a),"pattern"in b&&!b.pattern.test(a))throw new Error('Value "'+a+'" of property "'+c+'" does not match pattern "'+b.pattern+'"!');if("variants"in b&&-1===b.variants.indexOf(a))throw new Error('Value "'+a+'" of property "'+c+'" must be one of "'+b.variants.join(", ")+'"!');return a},datetime:function(a,b,c){if(_.isNumber(a)&&!isNaN(a)?a=new Date(a):_.isString(a)&&(a=new Date(Date.parse(a))),a instanceof Date)throw new Error('Value of property "'+c+'" must have datetime type!');return a},array:function(a,b,c){var d,e,f;if(_.isString(a)&&(a=a.split(b.delimiter||this._defaultArrayDelimiter)),"element"in b)for(f=[].concat(b.element),d=0,e=a.length;e>d;++d)a[d]=this.applyType.call(this,a[d],f[0],f[1]||{},c+"."+d);return a},hash:function(a,b,c){var d,e;if(!_.isObject(a))throw new Error('Value of property "'+c+'" must have object type!');if("keys"in b)for(d in a)if(!(d in b.keys))throw new Error('Unsupported hash key "'+d+'" for property "'+c+'"!');if("element"in b){e=[].concat(b.element);for(d in a)a[d]=this.applyType.call(this,a[d],e[0],e[1]||{},c+"."+d)}return a},object:function(a,b,c){if("instanceof"in b&&(a instanceof b.instanceof||(a=new klass(a))),!_.isObject(a))throw new Error('Value of property "'+c+'" must have object type!');return a},"function":function(a,b,c){if(!_.isFunction(a))throw new Error('Value of property "'+c+'" must have function type');return a}}})}),b("Base",function(){var a=0;return{clazz_methods:{create:function(){var a=arguments,b=new this(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10]);return this.emit("object.create",b),b},emit:function(){return this.__emitEvent.apply(this,_.toArray(arguments))},"const":function(){return this.__executeConstant.apply(this,_.toArray(arguments))}},methods:{__construct:function(){this.__uid=++a;for(var b in this)0===b.indexOf("__init")&&_.isFunction(this[b])&&this[b]();_.isFunction(this.init)&&this.init.apply(this,_.toArray(arguments))},getUID:function(){return this.__uid},init:function(a){return this.__setData(a)},parent:function(a){var b=this;if(!b.__parent)throw new Error('Parent clazz does not exists for "'+this.__clazz.__name+'" clazz!');if(!_.isFunction(b.__parent[a]))throw new Error('Method "'+a+'" does not exists in clazz "'+this.__clazz.__name+'"!');return a=b.__parent[a],function(){return a.apply(this,_.toArray(arguments))}},emit:function(){return this.__emitEvent.apply(this,_.toArray(arguments))},"const":function(){return this.__clazz.__executeConstant.apply(this.__clazz,_.toArray(arguments))}}}})}),k.getFactory().setMetaProcessor(h("/ClazzJS/Base")).setBaseClazz(k("/ClazzJS/Base")),{Namespace:b,Clazz:d,Meta:c,namespace:f,clazz:k,meta:h}});
//# sourceMappingURL=dist/ClazzJS.min.map