!function(a,b,c){var d=function(a,b,c){return"undefined"==typeof c&&(c=b,b=null),c&&"[object Array]"!==Object.prototype.toString.call(c)?(h.setMeta(a,b,c),void 0):h.get(a,c)},e=function(a){e.current()!==a&&e._stack.push(a)};e.GLOBAL="GLOBAL",e.DELIMITERS=["\\","/","_","-","."],e._stack=[],e.end=function(){this._stack.pop()},e.current=function(){return this._stack[this._stack.length-1]||this.GLOBAL},e.whereLookFor=function(){var a=this.current(),b=[a];return a!==this.GLOBAL&&b.push(this.GLOBAL),b},e.getDelimitersRegexp=function(){return new RegExp("[\\"+this.DELIMITERS.join("\\")+"]")};var f=function(){if("function"==typeof this.init){var a=this.init.apply(this,Array.prototype.slice.call(arguments));if("undefined"!=typeof a)return a}};f.NAME="__BASE_CLAZZ__",f.DEPENDENCIES=[],f.parent=null,f.create=function(){var a=arguments;return new this(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},f.prototype={parent:null,clazz:f};var g={CLASS_NAME:"Clazz{uid}",_clazzUID:0,create:function(a,b,c,d){"string"==typeof b&&(b=h.get(b)),"undefined"==typeof d&&(d=[]);var e=this.createClazz(a,b);return e.DEPENDENCIES=d,"function"==typeof c&&(c=c.apply(e,d)),"function"==typeof c&&(c={methods:{init:c}}),c&&this.processMeta(e,c),e},createClazz:function(a,b){b||(b=f);var d=function(){var a=b.apply(this,Array.prototype.slice.call(arguments));return"undefined"!=typeof a?a:void 0};for(var e in b)"function"==typeof b[e]?d[e]=b[e]:"_"===e[0]&&(d[e]=c);return d.NAME=a||this.generateName(),d.parent=b,d.prototype=Object.create(b.prototype),d.prototype.clazz=d,d.prototype.parent=b.prototype,d},generateName:function(){return this.CLASS_NAME.replace("{uid}",++this._clazzUID)},processMeta:function(a,b){return d.Meta.Clazz.process(a,b),d.Meta.Object.process(a.prototype,b),a}},h={_clazz:{},_meta:{},adjustName:function(a,b){return"undefined"==typeof b&&(b=e.current()),(b+"."+a).replace(e.getDelimitersRegexp(),".")},setMeta:function(a,b,d){return"undefined"==typeof d&&(d=b,b=c),this._meta[this.adjustName(a)]=[b,d],this},hasMeta:function(a){var b,c,d=e.whereLookFor();for(b=0,c=d.length;c>b;++b)if(this.adjustName(a,d[b])in this._meta)return!0;return!1},getMeta:function(a){var b,c,d,f=e.whereLookFor();for(b=0,c=f.length;c>b;++b)if(d=this.adjustName(a,f[b]),d in this._meta)return this._meta[d];throw new Error('Meta does not exists for "'+a+'"!')},getClazz:function(a,b){var c,d,f,g,h,i,j=e.whereLookFor(),k;for(c=0,d=j.length;d>c;++c)if(i=this.adjustName(a,j[c]),i in this._clazz){h=this._clazz[i];break}if("[object Array]"===Object.prototype.toString.apply(h))for(b||(b=[]),c=0,d=h.length;d>c;++c){for(k=!0,f=0,g=h[c].DEPENDENCIES.length;g>f;++f)if(h[c].DEPENDENCIES[f]!==b[f]){k=!1;break}if(k)return h[c]}throw new Error('Clazz "'+a+'" does not exists!')},hasClazz:function(a,b){var c,d,f,g,h,i,j=e.whereLookFor(),k;for(c=0,d=j.length;d>c;++c)if(i=this.adjustName(a,j[c]),i in this._clazz){h=this._clazz[i];break}if("[object Array]"===Object.prototype.toString.apply(h)){if(!b)return!0;for(c=0,d=h.length;d>c;++c){for(k=!0,f=0,g=h[c].DEPENDENCIES.length;g>f;++f)if(h[c].DEPENDENCIES[f]!==b[f]){k=!1;break}if(k)return!0}}return!1},setClazz:function(a,b){if("function"==typeof a&&(b=a,a=b.NAME),"function"!=typeof b)throw new Error("Clazz must be a function!");var c=this.adjustName(a);return c in this._clazz||(this._clazz[c]=[]),this._clazz[c].push(b),this},get:function(a,b){if(!this.hasClazz(a,b)){var c=this.getMeta(a);this.setClazz(g.create(a,c[0],c[1],b))}return this.getClazz(a,b)},has:function(a){return this.hasClazz(a)||this.hasMeta(a)}},i=function(a,b){a.__constants={};for(var c in b)a.__constants[c]=b[c]},j=new b.Processor.Interface({"const":function(a){return this.__getConstant(a)},__getConstant:function(a,b){var c=this;if("undefined"==typeof b&&(b=c.__getConstants()),"undefined"!=typeof a){if(!(a in b))throw new Error('Constant "'+a+'" does not defined!');if(b=b[a],"[object Object]"===Object.prototype.toString.apply(b))return function(a){return c.__getConstant(a,b)}}return b},__getConstants:function(){for(var a={},b=this;b;){if(b.hasOwnProperty("__constants"))for(var c in b.__constants)c in a||(a[c]=b.__constants[c]);b=b.parent}return a}}),k=new b.Processor.Chain({init:i,"interface":j}),l=function(a,b){if("function"==typeof a&&a.parent)for(var c in a.parent)"function"==typeof a.parent[c]&&(a[c]=a.parent[c]);for(var c in b){if("function"!=typeof b[c])throw new Error('Method "'+c+'" must be a function!');a[c]=b[c]}},m=function(a){var b,c=a.__getProperties();for(b in c)a["_"+b]=c[b].default},n=function(a,b){for(var d in b)a["_"+d]=c},o=new b.Processor.Interface({__setters:{},__getters:{},__properties:{},init:function(a){this.__setData(a)},__setProperties:function(a){for(var b in a)this.__setProperty(b,a[b]);return this},__getProperties:function(){return this.__properties},__setProperty:function(a,b,c){if(a=this.__adjustPropertyName(a),"undefined"==typeof this.__properties[a]&&(this.__properties[a]={}),{}.constructor===b.constructor)for(var d in b)this.__properties[a][d]=b[d];else this.__properties[a][b]=c;return this},__getProperty:function(a,b){return"undefined"==typeof b?this.__properties[a]:this.__properties[a]&&this.__properties[a][b]},__hasProperty:function(a){return a=this.__adjustPropertyName(a),"_"+a in this&&"function"!=typeof this["_"+a]},__adjustPropertyName:function(a){return a.replace(/(?:_)\w/,function(a){return a[1].toUpperCase()})},__setData:function(a){for(var b in a)this.__hasProperty(b)&&this.__setPropertyValue(b,a[b]);return this},__getPropertyValue:function(a){var b,c,d,e,f;if(a=this.__adjustPropertyName(a),!this.__hasProperty(a))throw new Error("Can't get! Property \""+a+'" does not exists!');f=this["_"+a],b=this.__getGetters(a);for(e in b)f=b[e].call(this,f);var g="[object Array]"===Object.prototype.toString.apply(arguments[2])?arguments[2]:Array.prototype.slice.call(arguments,1,-1);for(c=0,d=g.length;d>c;++c)f=f[g[c]];return f},__setPropertyValue:function(a){var b,c,d,e,f,g,h=arguments[arguments.length-1];if(a=this.__adjustPropertyName(a),!this.__hasProperty(a))throw new Error("Can't set! Property \""+a+'" does not exists!');if(f="[object Array]"===Object.prototype.toString.apply(arguments[2])?arguments[2]:Array.prototype.slice.call(arguments,1,-1),f&&f.length){for(g=this["_"+a],c=0,d=f.length-1;d>c;++c)g=g[f[c]];g[f[c]]=h}else g=h;b=this.__getSetters(a);for(e in b)g=b[e].call(this,g);return this["_"+a]=g,this},__isPropertyValue:function(a){var b="[object Array]"===Object.prototype.toString.apply(arguments[2])?arguments[2]:Array.prototype.slice.call(arguments,1,-1),c=this.__getPropertyValue(a,b),d=arguments[arguments.length-1];return"undefined"!=typeof c?c==d:!!c},__hasPropertyValue:function(a){var b="[object Array]"===Object.prototype.toString.apply(arguments[2])?arguments[2]:Array.prototype.slice.call(arguments,1,-1),c=this.__getPropertyValue(a,b);if("[object Object]"===Object.prototype.toString.apply(c)){for(var d in c)return!0;return!1}return"undefined"==typeof this[c]||null===c||"string"==typeof c&&""===c||"[object Array]"===Object.prototype.toString.apply(c)&&0===c.length},__addSetter:function(a,b,c){if("undefined"==typeof c&&(c=b,b=0),"function"!=typeof c)throw new Error("Set callback must be a function!");return a in this.__setters||(this.__setters[a]=[]),this.__setters[a].push([b,c]),this},__getSetters:function(a){for(var b,c,d,e,f={},g=this.clazz.prototype;g;){if(g.hasOwnProperty("__setters"))for(e in g.__setters)e in f||(f[e]=g.__setters[e]);g=g.parent}if("undefined"!=typeof a){if(d=[],a in f&&f[a].length)for(f[a].sort(function(a,b){return b[0]-a[0]}),b=0,c=f[a].length;c>b;++b)d.push(f[a][b][1])}else d=f;return d},__addGetter:function(a,b,c){if("undefined"==typeof c&&(c=b,b=0),"function"!=typeof c)throw new Error("Get callback must be a function!");return a in this.__getters||(this.__getters[a]=[]),this.__getters[a].push([b,c]),this},__getGetters:function(a){for(var b,c,d,e,f={},g=this.clazz.prototype;g;){if(g.hasOwnProperty("__getters"))for(d in g.__getters)d in f||(f[d]=g.__getters[d]);g=g.parent}if("undefined"!=typeof a){if(e=[],a in f&&f[a].length)for(f[a].sort(function(a,b){return b[0]-a[0]}),b=0,c=f[a].length;c>b;++b)e.push(f[a][b][1])}else e=f;return e}}),p={process:function(a,b){for(var c in b)this.Meta.process(a,b[c],c)},Meta:new b({type:{process:function(a,b,c,d){var e=this,f={};if("[object Array]"===Object.prototype.toString.apply(b)&&(f=b[1],b=b[0]),!(b in this.TYPES))throw new Error('Unsupported property type "'+b+'"!');a.__setProperty(d,"type",b),a.__addSetter(d,function(a){return e.checkValue(a,b,f)})},checkValue:function(a,b,c){return this.TYPES[b].call(this,a,c)},TYPES:{"boolean":function(a){return Boolean(a)},number:function(a,b){if(a=Number(a),"min"in b&&a<b.min)throw new Error('Value "'+a+'" must not be less then "'+b.min+'"!');if("max"in b&&a>b.max)throw new Error('Value "'+a+'" must not be greater then "'+b.max+'"!');return a},string:function(a,b){if(a=String(a),"pattern"in b&&!b.pattern.test(a))throw new Error('Value "'+a+'" does not match pattern "'+b.pattern+'"!');return a},datetime:function(a){return a instanceof Date||(a=new Date(Date.parse(a))),a},array:function(a,b){return"string"==typeof a?a.split(b.delimiter||","):[].concat(a)},hash:function(a,b){if({}.constructor!==a.constructor)throw new Error("Incorrect value: not hash type!");if("keys"in b)for(var c in a)if(!(c in b.keys))throw new Error('Unsupported hash key "'+c+'"!');return"element"in b&&this.checkValue.apply(this,[].concat(b.element)),a}}},"default":{process:function(a,b,c,d){var e;"function"==typeof b&&(b=b()),"undefined"==typeof b&&(e=a.__getProperty(d,"type"))&&(b=this.DEFAULTS[e]),a.__setProperty(d,"default",b)},DEFAULTS:{hash:{},array:[]}},methods:{process:function(a,b,c,d){"[object Array]"!==Object.prototype.toString.apply(b)&&(b=[b]);for(var e=0,f=b.length;f>e;++e)this.addMethod(b[e],a,d)},addMethod:function(a,b,c){var d=this.createMethod(a,c);b[d.name]=d.body},createMethod:function(a,b){if(!(a in this.METHODS))throw new Error('Unsupported method "'+a+'"!');var c=this.METHODS[a](b);return"function"==typeof c&&(c={name:a+b[0].toUpperCase()+b.slice(1),body:c}),c},METHODS:{get:function(a){return function(){return this.__getPropertyValue.apply(this,[a].concat(Array.prototype.slice.call(arguments)))}},set:function(a){return function(b){return this.__setPropertyValue.apply(this,[a].concat(Array.prototype.slice.call(arguments)))}},is:function(a){return{name:(0!==a.indexOf("is")?"is":"")+a[0].toUpperCase()+a.slice(1),body:function(){return this.__isPropertyValue.apply(this,[a].concat(Array.prototype.slice.call(arguments)))}}},has:function(a){return function(){return this.__hasPropertyValue.apply(this,[a].concat(Array.prototype.slice.call(arguments)))}}}},converters:function(a,b,c,d){a.__addSetter(d,1e3,function(a){for(var c in b)a=b[c].call(this,a);return a})},constraints:function(a,b,c,d){a.__addSetter(d,function(a){for(var c in b)if(!b[c].call(this,a))throw new Error('Constraint "'+c+'" was failed!');return a})}})},q=new b.Processor.Chain({init:n,"interface":o,meta:p,defaults:m});d.Base=f,d.Factory=g,d.Manager=h,d.Meta={Clazz:new b({constants:k,clazz_properties:q,clazz_methods:l}),Object:new b({properties:q,methods:l})},a.NameSpace=e,a.Clazz=d}(this,Meta);
//# sourceMappingURL=dist/ClazzJS.min.map